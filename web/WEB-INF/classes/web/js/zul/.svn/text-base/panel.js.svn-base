zk.load("zul.zul");zkPanel={init:function(A){zkPanel.onVisi=zkPanel.onSize;zkPanel._initBtn(A);if(zkPanel.isFloatable(A)){zkPanel._initFloat(A)}if(getZKAttr(A,"maximizable")=="true"&&getZKAttr(A,"maximized")=="true"){zk.addInitLater(function(){zkPanel.maximize(A,true,true)})}},_initBtn:function(D){if(getZKAttr(D,"closable")=="true"){var E=$e(D.id+"!close");if(E){zk.listen(E,"click",this.onCloseClick);zk.listen(E,"mouseover",this.onCloseMouseover);zk.listen(E,"mouseout",this.onCloseMouseout);if(!E.style.cursor){E.style.cursor="default"}}}if(getZKAttr(D,"collapsible")=="true"){var B=$e(D.id+"!toggle");if(B){zk.listen(B,"click",zkPanel.onOpen);zk.listen(B,"mouseover",this.onToggleMouseover);zk.listen(B,"mouseout",this.onToggleMouseout);if(!B.style.cursor){B.style.cursor="default"}}}if(getZKAttr(D,"maximizable")=="true"){var A=$e(D.id+"!maximize");if(A){zk.listen(A,"click",zkPanel.onMaximize);zk.listen(A,"mouseover",this.onMaximizeMouseover);zk.listen(A,"mouseout",this.onMaximizeMouseout);if(!A.style.cursor){A.style.cursor="default"}}}if(getZKAttr(D,"minimizable")=="true"){var C=$e(D.id+"!minimize");if(C){zk.listen(C,"click",zkPanel.onMinimize);zk.listen(C,"mouseover",this.onMinimizeMouseover);zk.listen(C,"mouseout",this.onMinimizeMouseout);if(!C.style.cursor){C.style.cursor="default"}}}},_initFloat:function(A){if(!A.style.top&&!A.style.left){var B=zk.revisedOffset(A);A.style.left=B[0]+"px";A.style.top=B[1]+"px"}zkau.fixZIndex(A);zkau._overlaps.push(A.id);A.style.position="absolute";if(zkPanel.isMovable(A)){zkPanel._initMove(A)}zkPanel.initShadow(A);zkPanel._show(A)},_initMove:function(A){var B=$e(A.id+"!caption");if(B){B.style.cursor="move";A.style.position="absolute";zul.initMovable(A,{handle:B,starteffect:zkPanel._startMove,overlay:true,change:zkau.hideCovered,ignoredrag:zkPanel._ignoreMove,endeffect:zkPanel._endMove})}},_ignoreMove:function(B,D,A){var C=Event.element(A);if(!C||C.id.indexOf("!close")>-1||C.id.indexOf("!toggle")>-1||C.id.indexOf("!minimize")>-1||C.id.indexOf("!maximize")>-1){return true}return false},_startMove:function(A,B){zkPanel.hideShadow(A);if(A.style.top&&A.style.top.indexOf("%")>=0){A.style.top=A.offsetTop+"px"}if(A.style.left&&A.style.left.indexOf("%")>=0){A.style.left=A.offsetLeft+"px"}zkau.closeFloats(A,B)},_endMove:function(C,A){var B="";if(A){if(A.altKey){B+="a"}if(A.ctrlKey){B+="c"}if(A.shiftKey){B+="s"}}zkPanel.syncShadow(C);zkau.sendOnMove(C,B)},cleanup:function(A){if(A._lastSize){A._lastSize=null}zkau._overlaps.remove(A.id);zkPanel.cleanupShadow(A)},isFloatable:function(A){return getZKAttr(A,"floatable")=="true"},isMovable:function(A){return getZKAttr(A,"movable")=="true"},isCollapsible:function(A){return getZKAttr(A,"collapsible")=="true"},onCloseMouseover:function(A){if(!A){A=window.event}var B=Event.element(A),C=$parentByType(B,"Panel");zk.addClass(B,getZKAttr(C,"zcls")+"-close-over")},onCloseMouseout:function(A){if(!A){A=window.event}var B=Event.element(A),C=$parentByType(B,"Panel");zk.rmClass(B,getZKAttr(C,"zcls")+"-close-over")},onCloseClick:function(A){if(!A){A=window.event}zkau.sendOnClose($parentByType(Event.element(A),"Panel"),true);Event.stop(A)},onToggleMouseover:function(A){if(!A){A=window.event}var B=Event.element(A),C=$parentByType(B,"Panel");zk.addClass(B,getZKAttr(C,"zcls")+"-toggle-over")},onToggleMouseout:function(A){if(!A){A=window.event}var B=Event.element(A),C=$parentByType(B,"Panel");zk.rmClass(B,getZKAttr(C,"zcls")+"-toggle-over")},onMinimizeMouseover:function(A){if(!A){A=window.event}var B=Event.element(A),C=$parentByType(B,"Panel");zk.addClass(B,getZKAttr(C,"zcls")+"-minimize-over")},onMinimizeMouseout:function(A){if(!A){A=window.event}var B=Event.element(A),C=$parentByType(B,"Panel");zk.rmClass(B,getZKAttr(C,"zcls")+"-minimize-over")},onMaximizeMouseover:function(B){if(!B){B=window.event}var C=Event.element(B),D=$parentByType(C,"Panel"),A=getZKAttr(D,"zcls");if(getZKAttr(D,"maximized")=="true"){zk.addClass(C,A+"-maximized-over")}zk.addClass(C,A+"-maximize-over")},onMaximizeMouseout:function(B){if(!B){B=window.event}var C=Event.element(B),D=$parentByType(C,"Panel"),A=getZKAttr(D,"zcls");if(getZKAttr(D,"maximized")=="true"){zk.rmClass(C,A+"-maximized-over")}zk.rmClass(C,A+"-maximize-over")},onOpen:function(A){if(!A){A=window.event}var B=$parentByType(Event.element(A),"Panel");if(B){if(getZKAttr(B,"collapsible")!="true"){return }var C=$e(B.id+"!bwrap");if(C){zkPanel.open(B,!$visible(C),false,true)}}},open:function(D,C,B,E){var D=$e(D);if(D){var F=$e(D.id+"!bwrap");if(F&&C!=$visible(F)&&(!E||!getZKAttr(F,"animating"))){var A=getZKAttr(D,"zcls");if(C){zk.rmClass(D,A+"-collapsed");anima.slideDown(F)}else{zk.addClass(D,A+"-collapsed");zkPanel.hideShadow(D);anima.slideUp(F)}if(!B){zkau.sendasap({uuid:D.id,cmd:"onOpen",data:[C]})}setZKAttr(D,"open",C?"true":"false");if(C){setTimeout(function(){zkPanel.hideShadow(D);zkPanel._fixHgh(D);zkPanel.syncShadow(D)},500)}}}},onMaximize:function(A){if(!A){A=window.event}var B=$parentByType(Event.element(A),"Panel");if(B){if(getZKAttr(B,"maximizable")!="true"){return }zkPanel.maximize(B,getZKAttr(B,"maximized")!="true",false,true)}},maximize:function(L,C,I){var L=$e(L);if(L){var J=zk.isRealVisible(L);if(!J&&C){return }var B,P,N,E,Q=L.style,O=getZKAttr(L,"zcls");if(C){zk.addClass($e(L.id+"!maximize"),O+"-maximized");zkPanel.hideShadow(L);if(zkPanel.isCollapsible(L)&&getZKAttr(L,"open")!="true"){zk.rmClass(L,O+"-collapsed");var H=$e(L.id+"!bwrap");if(H){H.style.display=""}}var A=zkPanel.isFloatable(L),G=A?zPos.offsetParent(L):L.parentNode;B=Q.left;P=Q.top;N=Q.width;E=Q.height;Q.top="-10000px";Q.left="-10000px";var M=zk.ie6Only&&G.clientWidth==0?(G.offsetWidth-zk.sumStyles(G,"rl",zk.borders)):G.clientWidth;var D=zk.ie6Only&&G.clientHeight==0?(G.offsetHeight-zk.sumStyles(G,"tb",zk.borders)):G.clientHeight;if(!A){M-=zk.sumStyles(G,"rl",zk.paddings);M=zk.revisedSize(L,M);D-=zk.sumStyles(G,"tb",zk.paddings);D=zk.revisedSize(L,D,true)}if(M<0){M=0}if(D<0){D=0}Q.width=M+"px";Q.height=D+"px";L._lastSize={l:B,t:P,w:N,h:E};Q.top="0px";Q.left="0px"}else{var K=$e(L.id+"!maximize");zk.rmClass(K,O+"-maximized");zk.rmClass(K,O+"-maximized-over");if(L._lastSize){Q.left=L._lastSize.l;Q.top=L._lastSize.t;Q.width=L._lastSize.w;Q.height=L._lastSize.h;L._lastSize=null}B=Q.left;P=Q.top;N=Q.width;E=Q.height;if(zkPanel.isCollapsible(L)&&getZKAttr(L,"open")!="true"){zk.addClass(L,O+"-collapsed");var H=$e(L.id+"!bwrap");if(H){H.style.display="none"}}var F=$e(getZKAttr(L,"children"));if(F){F.style.width=F.style.height=""}}setZKAttr(L,"maximized",C?"true":"false");if(!I){zkau.sendasap({uuid:L.id,cmd:"onMaximize",data:[B,P,N,E,C]})}if(J){L._maximized=true;zk.beforeSizeAt(L);zk.onSizeAt(L);zk.fire(L,"maximize",[L,C])}}},onMinimize:function(A){if(!A){A=window.event}var B=$parentByType(Event.element(A),"Panel");if(B){if(getZKAttr(B,"minimizable")!="true"){return }zkPanel.minimize(B,getZKAttr(B,"minimized")!="true",false,true)}},minimize:function(H,D,C){var H=$e(H);if(H){var G=H.style,B=G.left,E=G.top,A=G.width,F=G.height;if(D){zkPanel._hide(H)}else{zkPanel._show(H);zk.onSizeAt(H)}setZKAttr(H,"minimized",D?"true":"false");if(!C){zkau.sendasap({uuid:H.id,cmd:"onMinimize",data:[B,E,A,F,D]})}}},onSize:function(A){zkPanel.hideShadow(A);if(getZKAttr(A,"maximized")=="true"){if(!A._maximized){zkPanel.syncMaximized(A)}A._maximized=false}zkPanel._fixHgh(A);zkPanel._fixWdh(A);zkPanel.syncShadow(A)},syncMaximized:function(D){if(!D._lastSize){return }var E=zkPanel.isFloatable(D),F=E?zPos.offsetParent(D):D.parentNode,C=D.style;var A=zk.ie6Only&&F.clientWidth==0?(F.offsetWidth-zk.sumStyles(F,"rl",zk.borders)):F.clientWidth;if(!E){A-=zk.sumStyles(F,"rl",zk.paddings);A=zk.revisedSize(D,A)}if(A<0){A=0}C.width=A+"px";if(getZKAttr(D,"open")=="true"){var B=zk.ie6Only&&F.clientHeight==0?(F.offsetHeight-zk.sumStyles(F,"tb",zk.borders)):F.clientHeight;if(!E){B-=zk.sumStyles(F,"tb",zk.paddings);B=zk.revisedSize(D,B,true)}if(B<0){B=0}C.height=B+"px"}},_fixWdh:zk.ie7?function(E){if(getZKAttr(E,"framable")!="true"||!zk.isRealVisible(E)){return }var A=$e(getZKAttr(E,"children"));if(!A){return }var B=E.style.width,D=zk.firstChild(E,"DIV"),C=zk.lastChild(zk.lastChild(E,"DIV"),"DIV"),G=A.parentNode;if(!B||B=="auto"){var F=zk.getFrameWidth(G.parentNode)+zk.getFrameWidth(G.parentNode.parentNode);if(D){D.firstChild.firstChild.style.width=G.offsetWidth-(zk.getFrameWidth(D)+zk.getFrameWidth(D.firstChild)-F)+"px"}if(C){C.firstChild.firstChild.style.width=G.offsetWidth-(zk.getFrameWidth(C)+zk.getFrameWidth(C.firstChild)-F)+"px"}}else{if(D){D.firstChild.firstChild.style.width=""}if(C){C.firstChild.firstChild.style.width=""}}}:zk.voidf,_fixHgh:function(C){if(!zk.isRealVisible(C)){return }var A=$e(getZKAttr(C,"children"));if(!A){return }var B=C.style.height;if(zk.ie6Only&&((B&&B!="auto")||A.style.height)){A.style.height="0px"}if(B&&B!="auto"){zk.setOffsetHeight(A,C.offsetHeight-zkPanel.getFrameHeight(C)-1)}},getFrameHeight:function(C){var B=zk.getFrameHeight(C);B+=zkPanel.getTitleHeight(C);var H=$e(C.id+"!tbar"),F=$e(C.id+"!bbar");if(getZKAttr(C,"framable")=="true"){var A=$e(getZKAttr(C,"children")),G=zk.lastChild($e(C.id+"!bwrap"),"DIV"),E=$e(C.id+"!caption");B+=G.offsetHeight;if(A){B+=zk.getFrameHeight(A.parentNode)}if(E){B+=zk.getFrameHeight(E.parentNode)}}else{var D=$e(C.id+"!fbar");if(D){B+=D.offsetHeight}}if(H){B+=H.offsetHeight}if(F){B+=F.offsetHeight}return B},getTitleHeight:function(A){var C=$e(A.id+"!caption"),B=0;if(getZKAttr(A,"framable")=="true"&&!C){B=zk.firstChild(A,"DIV").firstChild.firstChild.offsetHeight}return C?C.offsetHeight:B},_show:function(A){if(getZKAttr(A,"visible")=="true"){zk.cleanVisibility(A)}zk.show(A);zkPanel.syncShadow(A)},_hide:function(A){zkPanel.hideShadow(A);zk.hide(A)},getShadow:function(A){return A._shadow},hideShadow:function(A){if(zkPanel.getShadow(A)){zkPanel.getShadow(A).hide()}},initShadow:function(A){A._shadow=new zk.Shadow(A)},cleanupShadow:function(A){if(A._shadow){A._shadow.cleanup();A._shadow=null}},syncShadow:function(A){if(!zkPanel.isFloatable(A)||!zkPanel.getShadow(A)){return }if(getZKAttr(A,"maximized")=="true"||getZKAttr(A,"minimized")=="true"){zkPanel.hideShadow(A);return }var B=$e(A.id+"!bwrap");if(B&&$visible(B)){zkPanel.getShadow(A).sync()}},setAttr:function(B,A,C){switch(A){case"visibility":if(getZKAttr(B,"maximized")=="true"){zkPanel.maximize(B,false)}else{if(getZKAttr(B,"minimized")=="true"){zkPanel.minimize(B,false)}}zkau.setAttr(B,A,C);return true;case"z.open":zkPanel.open(B,C=="true",true);return true;case"z.maximized":zkau.setAttr(B,A,C);if(getZKAttr(B,"minimized")=="true"){zkPanel.minimize(B,false)}zkPanel.maximize(B,C=="true",true);return true;case"z.minimized":zkau.setAttr(B,A,C);if(getZKAttr(B,"maximized")=="true"){zkPanel.maximize(B,false)}zkPanel.minimize(B,C=="true",true);return true;case"style":case"style.height":zkPanel.hideShadow(B);zkau.setAttr(B,A,C);if(A=="style.height"){zk.beforeSizeAt(B);zk.onSizeAt(B)}else{zkPanel._fixHgh(B);zkPanel.syncShadow(B)}return true;case"style.width":zkau.setAttr(B,A,C);zk.beforeSizeAt(B);zk.onSizeAt(B);return true;case"style.top":case"style.left":zkPanel.hideShadow(B);if(A=="style.top"){B.style.top=C}else{B.style.left=C}zkPanel.syncShadow(B);return true}return false}};zkPanelchild={setAttr:function(C,A,D){switch(A){case"style":var B=$parentByType(C,"Panel");zkPanel.hideShadow(B);zkau.setAttr(C,A,D);zkPanel._fixHgh(B);zkPanel.syncShadow(B);return true}return false}};