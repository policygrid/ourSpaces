zkTabbox2={init:function(A){if(zkTabbox2._isAccord(A)){zk.cleanVisibility(A)}},setAttr:function(D,A,E){switch(A){case"z.sel":var C=$e(E);if(!zkTab2._sliding(C)){zkTab2.selTab(C,true)}break;case"style":case"style.width":case"style.height":zkau.setAttr(D,A,E);var B=getZKAttr(D,"tabs");if(B){zk.beforeSizeAt(D);zkTabs2._fixWidth(B);zk.onSizeAt(D)}return true}return false},childchg:function(B){var A=getZKAttr(B,"tabs");if(A){setTimeout("zkTabs2._fixWidth('"+A+"')",0)}},_isAccord:function(A){return getZKAttr(A,"accd")},_isScroll:function(A){return getZKAttr(A,"tabscrl")},_isVert:function(A){return getZKAttr(A,"orient")=="v"}};zkTab2={init:function(C){zk.listen(C,"click",zkTab2.onclick);var B=$e(getZKAttr(C,"box"));var A=$e(C.id+"!close");if(A){zk.listen(A,"click",zkTab2.onCloseBtnClick);if(!A.style.cursor){A.style.cursor="default"}if(zk.ie6Only){zk.listen(A,"mouseover",this._onMouseOver);zk.listen(A,"mouseout",this._onMouseOut)}}var D=$parent(C);if(!D._toscroll){D._toscroll=function(){zkTabs2.scrollingchk($uuid(D))}}zk.addInit(D._toscroll,false,$uuid(D))},setAttr:function(B,A,C){switch(A){case"z.disabled":zkTab2._disable(B,C);return true;case"style":case"style.width":case"style.height":zkau.setAttr(B,A,C);zk.beforeSizeAt(B);zkTabs2.scrollingchk($uuid($parent(B)));zkTabs2._fixWidth($uuid($parent(B)));zk.onSizeAt(B);return true}return false},onclick:function(A){if(!A){A=window.event}var B=$parentByType(Event.element(A),"Tab2");if(getZKAttr(B,"disabled")=="true"){return }if(!zkTab2._sliding(B)){zkTab2.selTab(B,true)}},onCloseBtnClick:function(A){if(!A){A=window.event}var B=$parentByType(Event.element(A),"Tab2");if(getZKAttr(B,"disabled")=="true"){return }zkau.sendOnClose(B,true);Event.stop(A)},selTab:function(D,C){var B=$e(getZKAttr(D,"box"));if(zkTabbox2._isVert(B)){zkTabs2.scrollingchk($uuid($parent(D)),"vsel",D)}else{if(!zkTabbox2._isAccord(B)){zkTabs2.scrollingchk($uuid($parent(D)),"sel",D)}}D=$e(D);if(!D){return }var A=zkTab2._getSelTab(D);if(A!=D){if(A){zkTab2._setTabSel(A,false,false,C)}zkTab2._setTabSel(D,true,C,C)}},cleanup:function(B){var A=$parent(B);if(A){A._toscroll=null}A=$outer($parent(B));var C=$e(getZKAttr(B,"box"));if(!zkTabbox2._isAccord(C)){zk.addCleanup(function(){zkTabs2.scrollingchk(A.id,"cln",B);if(zkTabbox2._isVert(C)){zkTabs2._fixHgh(C,A)}},false,A.id+"Tabbox2")}},_getSelTab:function(B){var D=getZKAttr(B,"box");if(D){var A=$e(D);if(zkTabbox2._isAccord(A)){return zkTab2._getSelTabFromTop(A,D)}}var C=B;for(C=B;C=C.nextSibling;){if(getZKAttr(C,"sel")=="true"){return C}}for(C=B;C=C.previousSibling;){if(getZKAttr(C,"sel")=="true"){return C}}if(getZKAttr(B,"sel")=="true"){return B}},_sliding:function(C){var E=getZKAttr(C,"box");if(!E){return false}var B=$e(E);if(!zkTabbox2._isAccord(B)){return false}var A=$e(getZKAttr(C,"panel"));for(var D=A;D=D.nextSibling;){if(getZKAttr($real(D),"animating")){return true}}for(var D=A;D=D.previousSibling;){if(getZKAttr($real(D),"animating")){return true}}return false},_getSelTabFromTop:function(A,B){if($type(A)=="Tab2"&&getZKAttr(A,"box")==B){return getZKAttr(A,"sel")=="true"?A:null}for(var A=A.firstChild;A;A=A.nextSibling){var C=zkTab2._getSelTabFromTop(A,B);if(C){return C}}return null},_setTabSel:function(G,B,F,H){if((getZKAttr(G,"sel")=="true")==B){return }setZKAttr(G,"sel",B?"true":"false");zk[B?"addClass":"rmClass"](G,getZKAttr(G,"zcls")+"-seld");var E=$e(getZKAttr(G,"box")),D=E&&zkTabbox2._isAccord(E),A=$e(getZKAttr(G,"panel"));if(A){if(D&&H){if(B){anima.slideDown($real(A))}else{anima.slideUp($real(A))}}else{zk.show(D?$real(A):A,B)}}if(!D){var C=$parentByType(G,"Tabs2");if(C){zkTabs2._fixWidth(C.id)}}if(F){zkau.sendasap({uuid:G.id,cmd:"onSelect",data:[G.id]})}},_disable:function(C,B){var F=getZKAttr(C,"disabled");if(F==B){return }var A=$e(C.id+"!close"),D=getZKAttr(C,"sel"),E=getZKAttr(C,"zcls");zk.rmClass(C,E+"-disd-seld");zk.rmClass(C,E+"-disd");if(B=="true"){zk.addClass(C,E+(D=="true"?"-disd-seld":"-disd"))}else{zk[D=="true"?"addClass":"rmClass"](C,E+"-seld")}setZKAttr(C,"disabled",B)}};zkTabs2={init:function(B){zkTabs2._fixWidth(B.id);var A=$e(B.id+"!right");if(A){zk.listen(A,"click",zkTabs2.onClickArrow)}A=$e(B.id+"!left");if(A){zk.listen(A,"click",zkTabs2.onClickArrow)}A=$e(B.id+"!down");if(A){zk.listen(A,"click",zkTabs2.onClickArrow)}A=$e(B.id+"!up");if(A){zk.listen(A,"click",zkTabs2.onClickArrow)}var C=$parent(B);if(!C.initscroll){C.initscroll=function(){zkTabs2.scrollingchk(B.id,"init")}}zk.addInit(C.initscroll,false,C.id)},onVisi:function(A){if(zkTabbox2._isVert($parent($e(A.id)))){A.style.height=""}else{A.style.width=""}zkTabs2._fixWidth(A.id);zkTabs2.scrollingchk(A.id)},onSize:function(A){zkTabs2._fixWidth(A.id);zkTabs2.scrollingchk(A.id);zk.cleanVisibility($parentByType(A,"Tabbox2"))},beforeSize:function(A){if(zkTabbox2._isVert($parent($e(A.id)))){A.style.height=""}else{A.style.width=""}},cleanup:function(A){A._width=null;var B=$parent(A);if(B){B.initscroll=null}},scrollingchk:function(V,I,N){var M=$e(V),D=$parentByType($e(V),"Tabbox2"),H=getZKAttr(D,"zcls");if(!M){return }if(M.offsetWidth<36){return }if(zkTabbox2._isVert(D)){if(M.offsetHeight<36){return }var T=$e(V,"header"),S=$e(V,"ul"),F=T.offsetHeight,E=0,C=zk.childNodes(S,zkTabs2._isLegalType);for(var U=0,K=C.length;U<K;U++){E=E+C[U].offsetHeight}if(zk.hasClass(D,H+"-scrolling")){if(E<=(F+18)){zk.rmClass(D,H+"-scrolling",true);T.style.height=D.offsetHeight-2+"px";T.scrollTop=0}switch(I){case"init":if(N==null){N=zkTab2._getSelTab(zk.firstChild(S,"LI"))}var B=N.offsetTop,R=N.offsetHeight,Y=T.scrollTop,W=F;if(B<Y){zkTabs2._tabscroll(V,"up",Y-B)}else{if(B+R>Y+W){zkTabs2._tabscroll(V,"down",B+R-Y-W+4)}}break;case"end":var b=E-T.offsetHeight-T.scrollTop;b>=0?zkTabs2._tabscroll(V,"down",b):zkTabs2._tabscroll(V,"up",Math.abs(b));break;case"vsel":var B=N.offsetTop,R=N.offsetHeight,Z=T.scrollTop,P=F;if(B<Z){zkTabs2._tabscroll(V,"up",Z-B)}else{if(B+R>Z+P){zkTabs2._tabscroll(V,"down",B+R-Z-P+2)}}break}}else{if(E>(F-18)){zk.addClass(D,H+"-scrolling",true);T.style.height=D.offsetHeight-36+"px";if(I=="end"){var b=E-T.offsetHeight-T.scrollTop+2;b<0?"":zkTabs2._tabscroll(V,"down",b)}}}}else{if(!zkTabbox2._isAccord(D)){var X=$e(V+"!cave"),T=$e(V+"!header"),e=zk.childNodes(X,zkTabs2._isLegalType);if(zkTabbox2._isScroll(D)){var Q=T.offsetWidth,L=0;for(var U=0,K=e.length;U<K;U++){L=L+$int(e[U].offsetWidth)+2}if(zk.hasClass(D,H+"-scrolling")){if(L<=(Q)){zk.rmClass(D,H+"-scrolling",true);T.style.width=D.offsetWidth-2+"px";T.scrollLeft=0}switch(I){case"init":if(N==null){N=zkTab2._getSelTab(zk.firstChild(X,"LI"))}var G=N.offsetLeft,J=N.offsetWidth,A=T.scrollLeft,O=Q;if(G<A){zkTabs2._tabscroll(V,"left",A-G+2)}else{if(G+J>A+O){zkTabs2._tabscroll(V,"right",G+J-A-O+2)}}break;case"end":var b=L-T.offsetWidth-T.scrollLeft+2;b>=0?zkTabs2._tabscroll(V,"right",b):zkTabs2._tabscroll(V,"left",Math.abs(b));break;case"sel":var G=N.offsetLeft,J=N.offsetWidth,A=T.scrollLeft,O=Q;if(G<A){zkTabs2._tabscroll(V,"left",A-G+2)}else{if(G+J>A+O){zkTabs2._tabscroll(V,"right",G+J-A-O+2)}}break}}else{if(L>(Q-10)){zk.addClass(D,H+"-scrolling",true);var c=$e(getZKAttr(D,"tabs"),"cave");c.style.width="5000px";T.style.width=D.offsetWidth-38+"px";if(I=="sel"){var b=L-T.offsetWidth-T.scrollLeft+2;b<0?"":zkTabs2._tabscroll(V,"right",b)}}}}}}},onClickArrow:function(M){if(!M){M=window.event}var N=Event.element(M),A=$outer(N).id,D=0,I=$e(A+"!header");if(N.id==A+"!right"){var K=I.offsetWidth,L=I.scrollLeft,J=zk.childNodes($e(A+"!cave"),zkTabs2._isLegalType);if(!J.length){return }for(var F=0,H=J.length;F<H;F++){if($type(J[F])=="Tab2"){if(J[F].offsetLeft+J[F].offsetWidth>L+K){D=J[F].offsetLeft+J[F].offsetWidth-L-K+2;if(D==0||D==null||isNaN(D)){return null}zkTabs2._tabscroll(A,"right",D);return }}}}else{if(N.id==A+"!left"){var J=zk.childNodes($e(A+"!cave"),zkTabs2._isLegalType),L=I.scrollLeft;if(!J.length){return }for(var F=0,H=J.length;F<H;F++){if(J[F].offsetLeft>L){if(zk.previousSibling(J[F],"LI")==null){return }D=L-zk.previousSibling(J[F],"LI").offsetLeft+2;if(isNaN(D)){return }zkTabs2._tabscroll(A,"left",D);return }}D=L-J[J.length-1].offsetLeft+2;if(isNaN(D)){return }zkTabs2._tabscroll(A,"left",D);return }else{if(N.id==A+"!up"){var C=I.scrollTop,B=zk.childNodes($e(A,"ul"),zkTabs2._isLegalType);if(!B.length){return }for(var F=0,H=B.length;F<H;F++){if(B[F].offsetTop>=C){var E=zk.previousSibling(B[F],"LI");if(E==null){return }D=C-E.offsetTop;zkTabs2._tabscroll(A,"up",D);return }}var E=B[B.length-1];if(E==null){return }D=C-E.offsetTop;zkTabs2._tabscroll(A,"up",D);return }else{if(N.id==A+"!down"){var C=I.scrollTop,B=zk.childNodes($e(A,"ul"),zkTabs2._isLegalType),C=I.scrollTop,G=I.offsetHeight;if(!B.length){return }for(var F=0,H=B.length;F<H;F++){if(B[F].offsetTop+B[F].offsetHeight>C+G){D=B[F].offsetTop+B[F].offsetHeight-C-G+2;if(D==0||D==null||isNaN(D)){return }zkTabs2._tabscroll(A,"down",D);return }}}}}}},_tabscroll:function(uuid,to,move){if(move<=0){return }var step,header=$e(uuid+"!header");step=move<=60?5:eval(5*($int(move/60)+1));var run=setInterval(function(){if(move==0){clearInterval(run);return }else{move<step?goscroll(header,to,move):goscroll(header,to,step);move=move-step;move=move<0?0:move}},10);goscroll=function(header,to,step){if(to=="right"){header.scrollLeft=header.scrollLeft+step}else{if(to=="left"){header.scrollLeft=header.scrollLeft-step}else{if(to=="up"){header.scrollTop=header.scrollTop-step}else{if(to=="down"){header.scrollTop=header.scrollTop+step}}}}header.scrollLeft=(header.scrollLeft<=0?0:header.scrollLeft);header.scrollTop=(header.scrollTop<=0?0:header.scrollTop)}},_isLegalType:function(A){return($type(A)=="Tab2")},_isLegalLI:function(A){return $tag(A)=="LI"},_fixWidth:function(D){var E=$parent($e(D)),C=$e(D),B=$e(D+"!header");zkTabs2._fixHgh(E,C);if(zkTabbox2._isVert(E)){ul=zk.firstChild($e(C,"header"),"UL"),li=zk.childNodes(ul,zkTabs2._isLegalLI);var A=0;if(C.style.width){C._width=C.style.width}else{C.style.width=C._width}}else{if(E.offsetWidth<36){return }if(zkTabbox2._isScroll(E)){var F=getZKAttr(E,"zcls");if(!E.style.width){zkTabs2._forceStyle(E,"w","100%");zkTabs2._forceStyle(C,"w",zk.revisedSize(C,E.offsetWidth)+"px");if(zk.hasClass(E,F+"-scrolling")){zkTabs2._forceStyle(B,"w",E.offsetWidth-38+"px")}else{zkTabs2._forceStyle(B,"w",zk.revisedSize(B,E.offsetWidth)+"px")}}else{zkTabs2._forceStyle(C,"w",zk.revisedSize(C,E.offsetWidth)+"px");zkTabs2._forceStyle(B,"w",C.style.width);if(zk.hasClass(E,F+"-scrolling")){zkTabs2._forceStyle(B,"w",B.offsetWidth-36+"px")}else{zkTabs2._forceStyle(B,"w",B.offsetWidth+"px")}}}else{if(!E.style.width){zkTabs2._forceStyle(E,"w",E.offsetWidth+"px");zkTabs2._forceStyle(C,"w",E.offsetWidth+"px")}else{zkTabs2._forceStyle(C,"w",E.offsetWidth+"px")}}}},_fixHgh:function(D,C){if($e(D.id)==null||$e(C)==null){return }if(zkTabbox2._isVert(D)){var E=zk.childNodes(D,function(F){return($tag(F)=="DIV")}),B=zk.firstChild($e(C,"header"),"UL"),A=zk.childNodes(B,zkTabs2._isLegalLI);if(D.style.height){zkTabs2._forceStyle(C,"h",zk.revisedSize(C,D.offsetHeight,true)+"px")}else{zkTabs2._forceStyle(D,"h",A.length*35+"px");zkTabs2._forceStyle(C,"h",zk.revisedSize(C,D.offsetHeight,true)+"px")}if(zk.hasClass(D,getZKAttr(D,"zcls")+"-scrolling")){zkTabs2._forceStyle($e(C,"header"),"h",C.offsetHeight-38+"px")}else{zkTabs2._forceStyle($e(C,"header"),"h",zk.revisedSize($e(C,"header"),C.offsetHeight,true)+"px")}zkTabs2._forceStyle(E[1],"h",zk.revisedSize(E[1],C.offsetHeight,true)+"px");zkTabs2._forceStyle(E[2],"h",zk.revisedSize(E[1],C.offsetHeight,true)+"px")}else{$e(C.id,"header").style.height=""}},_forceStyle:function(B,A,C){if($int(C)<0){return }switch(A){case"h":if(zk.ie6Only){B.style.height="0px"}else{B.style.height=""}B.style.height=C;break;case"w":if(zk.ie6Only){B.style.width="0px"}else{B.style.width=""}B.style.width="";B.style.width=C;break}}};if(zk.ie6Only){zkTab2._onMouseOver=function(A){if(!A){A=window.event}var B=Event.element(A),C=getZKAttr($parentByType(B,"Tab2"),"zcls");zk.addClass(B,C+"-close-over")};zkTab2._onMouseOut=function(A){if(!A){A=window.event}var B=Event.element(A),C=getZKAttr($parentByType(B,"Tab2"),"zcls");zk.rmClass(B,C+"-close-over")};zkTabs2.beforeSize=function(B){var A=$parentByType(B,"Tabbox2");if(!zkTabbox2._isAccord(A)){if(!zkTabbox2._isVert($parent(B))){B.style.width="0px"}}}}zkTabpanel2={init:function(A){var B=$e(getZKAttr(A,"box"));this._fixPanelHgh(B,A)},onVisi:function(A){var B=$e(getZKAttr(A,"box"));this._fixPanelHgh(B,A);if(zk.ie6Only){zk.repaint(B)}},_fixPanelHgh:function(D,B){if(!zkTabbox2._isAccord(D)){var C=D.style.height;var A=$parent(B);if(A){for(var F,E=A.firstChild;E;E=E.nextSibling){if(E.id){if(zk.ie){F=E.style.position;E.style.position="relative"}if(C&&C!="auto"){C=zk.getVflexHeight(A);zk.setOffsetHeight(E,C)}zk.addClass($e(E.id+"!real"),getZKAttr(E,"zcls")+"-real");if(zk.ie){E.style.position=F}}}}}}};zkTabpanel2.onSize=zkTabpanel2.onVisi;